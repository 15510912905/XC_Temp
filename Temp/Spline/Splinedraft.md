void vShengJin(double a, double b, double c, double d, vector<double> &X123)
{
	/************************************************************************/
	/* 盛金公式求解三次方程的解
	德尔塔f=B^2-4AC
	这里只要了实根，虚根需要自己再整理下拿出来
	*/
	/************************************************************************/
	double A = b*b - 3 * a*c;
	double B = b*c - 9 * a*d;
	double C = c*c - 3 * b*d;
	double f = B*B - 4 * A*C;
	double i_value;
	double Y1, Y2;
	if (fabs(A)<1e-6 && fabs(B)<1e-6)//公式1
	{
		X123.push_back(-b / (3 * a));
		X123.push_back(-b / (3 * a));
		X123.push_back(-b / (3 * a));
	}
	else if (fabs(f)<1e-6)   //公式3
	{
		double K = B / A;
		X123.push_back(-b / a + K);
		X123.push_back(-K / 2);
		X123.push_back(-K / 2);
	}
	else if (f>1e-6)      //公式2
	{
		Y1 = A*b + 3 * a*(-B + sqrt(f)) / 2;
		Y2 = A*b + 3 * a*(-B - sqrt(f)) / 2;
		double Y1_value = (Y1 / fabs(Y1))*pow((double)fabs(Y1), 1.0 / 3);
		double Y2_value = (Y2 / fabs(Y2))*pow((double)fabs(Y2), 1.0 / 3);
		X123.push_back((-b - Y1_value - Y2_value) / (3 * a));//虚根我不要
		//虚根还是看看吧，如果虚根的i小于0.1，则判定为方程的一根吧。。。
		i_value = sqrt(3.0) / 2 * (Y1_value - Y2_value) / (3 * a);
		if (fabs(i_value)<1e-1)
		{
			X123.push_back((-b + 0.5*(Y1_value + Y2_value)) / (3 * a));
		}
	}
	else if (f<-1e-6)   //公式4
	{
		double T = (2 * A*b - 3 * a*B) / (2 * A*sqrt(A));
		double S = acos(T);
		X123.push_back((-b - 2 * sqrt(A)*cos(S / 3)) / (3 * a));
		X123.push_back((-b + sqrt(A)*(cos(S / 3) + sqrt(3.0)*sin(S / 3))) / (3 * a));
		X123.push_back((-b + sqrt(A)*(cos(S / 3) - sqrt(3.0)*sin(S / 3))) / (3 * a));
	}
}

#include <cmath>
using namespace std;

#define ZERO 1e-6
#define ISZERO(Value) ((-1.0f * ZERO < (Value)) && ((Value)? < 1.0f * ZERO))
#define LESSTHANZERO(Value) ((Value) < ZERO)
#define GREATERTHANZERO(Value) (ZERO < (Value))
#define ISBETWEEN(Value, Value1, Value2) (GREATERTHAN(Value, MIN(Value1, Value2)) && LESSTHAN(Value, MAX(Value1, Value2)))
typedef double RealNum;

typedef struct tagComplex
{
	RealNum real;
	RealNum image;
}Complex;

//rA * (X ^3) + rB * (X ^ 2) + rC * (X) + rD = 0
int Shengjin(RealNum rA, RealNum rB, RealNum rC, RealNum rD, RealNum* rX1, RealNum* rX2, RealNum* rX3)
{ 
	RealNum fDA = rB * rB - 3.0f * rA * rC;
	RealNum fDB = rB * rC - 9.0f * rA * rD;
	RealNum fDC = rC * rC - 3.0f * rB * rD;
	
	RealNum rTempA = ABSZERO;
	RealNum rTempB = ABSZERO;
	RealNum fDelta = fDB * fDB - 4.0f * fDA * fDC;
	if (ISZERO(fDA) && ISZERO(fDB))
	{
		if (!ISZERO(rA))
		{
			*rX1 = -1.0f * rB / (3.0f * rA);
		}
		else if (!ISZERO(rB))
		{
			*rX1 = -1.0f * rC / rB; 
		}
		else if (!ISZERO(rC))
		{
			*rX1 = -1.0f * rD / rC;
		}
		else// if (!ISZERO(rD))
		{
			return 0;
		}
		*rX2 = *rX1;
		*rX3 = *rX1;
		return 1;
	}

	if (GREATERTHANZERO(fDelta))
	{
		RealNum rY1 = fDA * rB + 3.0f * rA * (0.5f * (-1.0f * fDB + sqrtf(fDelta) ));? 
		RealNum rY2 = fDA * rB + 3.0f * rA * (0.5f * (-1.0f * fDB - sqrtf(fDelta) ));
		if (GREATERTHANZERO(rY1))
		{
			rTempA = powf(rY1, 1.0f / 3.0f);
		}
		else
		{
			rTempA = -1.0f * powf(-1.0f * rY1, 1.0f / 3.0f);
		}
		if (GREATERTHANZERO(rY2))
		{
			rTempB = powf(rY2, 1.0f / 3.0f);
		}
		else
		{
			rTempB = -1.0f * powf(-1.0f * rY2, 1.0f / 3.0f);
		}
		*rX1 = -1.0f * (rB + rTempA + rTempB) * (1.0f / (3.0f * rA));
		Complex cX2;
		cX2.real? = (1.0f / (6.0f * rA)) * (-2.0f * rB + rTempA + rTempB);
		cX2.image = (1.0f / (6.0f * rA)) * sqrtf(3.0f) * (rTempA -rTempB);
		Complex cX3;
		cX3.real? = cX2.real;
		cX3.image = -1.0f * cX2.image;

		return 1;
	}
	else if (ISZERO(fDelta))
	{
		if (ISZERO(fDA))
		{
		?return 0;
		}
		RealNum rK = fDB / fDA;
		*rX1 = -1.0f * rB / rA + rK;
		*rX2 = -0.5f * rK;
		*rX3 = *rX2;
		return 2;
	}
	else
	{
		if (LESSTHANZERO(fDA))
		{
			return 0;
		}
		if (GREATERTHANZERO(fDA))
		{
			rTempA = powf(fDA, 3.0f);
		}
		else
		{
			rTempA = -1.0f * powf(-1.0f * fDA, 3.0f);
		}
		RealNum rT = (2.0f * fDA * rB - 3.0f * rA * fDB) / (2.0f * sqrtf(rTempA));
		if (!ISBETWEEN(rT, -1.0f, 1.0f))
		{
			return 0;
		}
		RealNum rTheta = acosf(rT);
		*rX1 = -1.0f * (rB + 2.0f * sqrtf(fDA) * cos(rTheta / 3.0f)) * (1.0f / (3.0f * rA));
		*rX2 = (-1.0f * rB + sqrtf(fDA) * (cos(rTheta / 3.0f) + sqrtf(3.0f) * sin(rTheta / 3.0f))) * (1.0f / (3.0f * rA));
		*rX3 = (-1.0f * rB + sqrtf(fDA) * (cos(rTheta / 3.0f) - sqrtf(3.0f) * sin(rTheta / 3.0f))) * (1.0f / (3.0f * rA));
		return 3;
	}

	return 0;
}

Input Sample Size:
5
Input 5x:
1       1
2       2
3       3
4       4
5       5
Input 5y:
1       5.7
2       6.9
3       10.2
4       15.9
5       10.7
NATURAL:0 CLAMPED:1 NOTAKNOT:2
0
a:              b:              c:              d:
0.196429        0.000000        1.003571        5.700000
1.117857        0.589286        1.592857        6.900000
-4.367857       3.942857        6.125000        10.200000
3.053571        -9.160714       0.907143        15.900000

5.700000
5.710036
5.720073
5.730112
5.740155
5.750203
5.760257
5.770317
5.780386
5.790465
5.800554
5.810654
5.820768
5.830896
5.841039
5.851199
5.861376
5.871572
5.881788
5.892026
5.902286
5.912569
5.922877
5.933211
5.943573
5.953962
5.964381
5.974831
5.985312
5.995826
6.006375
6.016959
6.027579
6.038238
6.048935
6.059672
6.070450
6.081271
6.092136
6.103045
6.114000
6.125002
6.136053
6.147153
6.158304
6.169507
6.180762
6.192072
6.203438
6.214860
6.226339
6.237878
6.249477
6.261137
6.272859
6.284645
6.296496
6.308413
6.320397
6.332449
6.344571
6.356764
6.369029
6.381366
6.393778
6.406266
6.418830
6.431471
6.444192
6.456993
6.469875
6.482840
6.495888
6.509021
6.522240
6.535547
6.548942
6.562426
6.576001
6.589668
6.603429
6.617283
6.631233
6.645280
6.659424
6.673667
6.688011
6.702456
6.717003
6.731655
6.746411
6.761273
6.776242
6.791320
6.806508
6.821806
6.837216
6.852739
6.868377
6.884130
6.900000
6.915989
6.932102
6.948346
6.964729
6.981256
6.997934
7.014771
7.031772
7.048945
7.066296
7.083833
7.101560
7.119486
7.137617
7.155960
7.174522
7.193308
7.212326
7.231583
7.251086
7.270840
7.290853
7.311131
7.331682
7.352511
7.373626
7.395033
7.416739
7.438751
7.461075
7.483718
7.506687
7.529989
7.553629
7.577616
7.601955
7.626653
7.651718
7.677155
7.702971
7.729174
7.755770
7.782765
7.810166
7.837981
7.866215
7.894875
7.923969
7.953502
7.983482
8.013915
8.044808
8.076168
8.108001
8.140314
8.173114
8.206407
8.240200
8.274500
8.309314
8.344648
8.380510
8.416904
8.453840
8.491322
8.529358
8.567955
8.607119
8.646856
8.687175
8.728081
8.769581
8.811682
8.854390
8.897712
8.941655
8.986226
9.031431
9.077278
9.123771
9.170920
9.218729
9.267207
9.316358
9.366192
9.416713
9.467928
9.519845
9.572471
9.625811
9.679872
9.734662
9.790187
9.846453
9.903467
9.961237
10.019768
10.079068
10.139143
10.200000
10.261640
10.324042
10.387181
10.451029
10.515561
10.580751
10.646572
10.712998
10.780003
10.847561
10.915645
10.984229
11.053288
11.122795
11.192723
11.263046
11.333739
11.404775
11.476128
11.547771
11.619679
11.691825
11.764183
11.836727
11.909431
11.982268
12.055212
12.128237
12.201317
12.274425
12.347536
12.420623
12.493659
12.566620
12.639478
12.712208
12.784782
12.857176
12.929362
13.001314
13.073007
13.144414
13.215509
13.286266
13.356658
13.426659
13.496243
13.565384
13.634056
13.702232
13.769887
13.836993
13.903525
13.969457
14.034762
14.099414
14.163388
14.226656
14.289192
14.350971
14.411967
14.472152
14.531500
14.589987
14.647584
14.704267
14.760009
14.814783
14.868564
14.921325
14.973040
15.023683
15.073228
15.121648
15.168917
15.215010
15.259899
15.303559
15.345963
15.387086
15.426900
15.465380
15.502500
15.538234
15.572554
15.605435
15.636852
15.666776
15.695183
15.722046
15.747340
15.771036
15.793111
15.813536
15.832287
15.849337
15.864659
15.878228
15.890017
15.900000
15.908158
15.914503
15.919052
15.921824
15.922837
15.922110
15.919660
15.915506
15.909667
15.902161
15.893005
15.882219
15.869821
15.855829
15.840261
15.823136
15.804472
15.784287
15.762600
15.739429
15.714792
15.688707
15.661194
15.632270
15.601953
15.570262
15.537216
15.502832
15.467129
15.430125
15.391839
15.352288
15.311492
15.269468
15.226234
15.181810
15.136214
15.089463
15.041576
14.992571
14.942468
14.891283
14.839036
14.785744
14.731426
14.676101
14.619786
14.562501
14.504262
14.445089
14.385000
14.324014
14.262148
14.199420
14.135850
14.071456
14.006255
13.940267
13.873509
13.806000
13.737758
13.668802
13.599149
13.528818
13.457828
13.386197
13.313942
13.241083
13.167638
13.093625
13.019062
12.943968
12.868361
12.792259
12.715681
12.638645
12.561169
12.483271
12.404971
12.326286
12.247234
12.167834
12.088105
12.008064
11.927730
11.847121
11.766256
11.685152
11.603829
11.522304
11.440595
11.358722
11.276703
11.194555
11.112297
11.029947
10.947525
10.865047
10.782533
10.700000


Input Sample Size:
5
Input 5x:
1       1
2       2
3       3
4       4
5       5
Input 5y:
1       5.7
2       6.9
3       10.2
4       15.9
5       10.7
NATURAL:0 CLAMPED:1 NOTAKNOT:2
1
a:              b:              c:              d:
-0.685714       1.885714        0.000000        5.700000
1.757143        -0.171429       1.714286        6.900000
-6.042857       5.100000        6.642857        10.200000
9.114286        -13.028571      -1.285714       15.900000

5.700000
5.700188
5.700749
5.701679
5.702973
5.704629
5.706640
5.709005
5.711717
5.714774
5.718171
5.721904
5.725969
5.730362
5.735078
5.740114
5.745466
5.751128
5.757098
5.763371
5.769943
5.776810
5.783967
5.791411
5.799138
5.807143
5.815422
5.823972
5.832787
5.841865
5.851200
5.860789
5.870628
5.880712
5.891037
5.901600
5.912396
5.923421
5.934671
5.946141
5.957829
5.969728
5.981837
5.994149
6.006662
6.019371
6.032272
6.045361
6.058634
6.072086
6.085714
6.099514
6.113480
6.127610
6.141899
6.156343
6.170938
6.185679
6.200563
6.215586
6.230743
6.246030
6.261444
6.276979
6.292633
6.308400
6.324277
6.340260
6.356344
6.372525
6.388800
6.405164
6.421613
6.438143
6.454749
6.471429
6.488176
6.504989
6.521861
6.538790
6.555771
6.572800
6.589873
6.606986
6.624134
6.641314
6.658522
6.675752
6.693002
6.710267
6.727543
6.744826
6.762111
6.779395
6.796674
6.813943
6.831198
6.848436
6.865651
6.882841
6.900000
6.917127
6.934231
6.951322
6.968410
6.985505
7.002620
7.019763
7.036945
7.054178
7.071471
7.088836
7.106282
7.123820
7.141462
7.159216
7.177094
7.195107
7.213265
7.231578
7.250057
7.268713
7.287556
7.306596
7.325845
7.345312
7.365009
7.384946
7.405133
7.425581
7.446300
7.467301
7.488595
7.510192
7.532103
7.554337
7.576907
7.599822
7.623092
7.646729
7.670743
7.695144
7.719943
7.745151
7.770778
7.796834
7.823330
7.850278
7.877686
7.905566
7.933929
7.962784
7.992143
8.022015
8.052412
8.083345
8.114822
8.146856
8.179457
8.212635
8.246400
8.280764
8.315736
8.351328
8.387550
8.424412
8.461926
8.500101
8.538948
8.578477
8.618700
8.659626
8.701267
8.743633
8.786734
8.830580
8.875184
8.920554
8.966701
9.013637
9.061371
9.109915
9.159278
9.209471
9.260506
9.312391
9.365138
9.418758
9.473261
9.528657
9.584957
9.642172
9.700312
9.759387
9.819409
9.880387
9.942333
10.005257
10.069169
10.134080
10.200000
10.266933
10.334849
10.403713
10.473488
10.544137
10.615626
10.687917
10.760975
10.834762
10.909243
10.984381
11.060141
11.136485
11.213378
11.290784
11.368666
11.446987
11.525712
11.604805
11.684229
11.763947
11.843924
11.924124
12.004509
12.085045
12.165694
12.246420
12.327187
12.407959
12.488700
12.569373
12.649942
12.730371
12.810623
12.890662
12.970453
13.049958
13.129142
13.207968
13.286400
13.364402
13.441937
13.518969
13.595462
13.671380
13.746687
13.821345
13.895320
13.968574
14.041071
14.112776
14.183652
14.253662
14.322770
14.390941
14.458138
14.524324
14.589463
14.653520
14.716457
14.778239
14.838829
14.898192
14.956290
15.013087
15.068548
15.122636
15.175315
15.226548
15.276300
15.324534
15.371213
15.416302
15.459764
15.501562
15.541662
15.580026
15.616619
15.651403
15.684343
15.715402
15.744545
15.771734
15.796934
15.820109
15.841222
15.860236
15.877116
15.891826
15.904329
15.914588
15.922568
15.928233
15.931545
15.932470
15.930970
15.927009
15.920551
15.911560
15.900000
15.885849
15.869147
15.849949
15.828309
15.804282
15.777923
15.749286
15.718427
15.685399
15.650257
15.613057
15.573852
15.532698
15.489650
15.444761
15.398086
15.349681
15.299600
15.247898
15.194629
15.139847
15.083609
15.025968
14.966979
14.906696
14.845176
14.782471
14.718637
14.653728
14.587800
14.520907
14.453103
14.384443
14.314982
14.244775
14.173876
14.102340
14.030222
13.957576
13.884457
13.810920
13.737019
13.662810
13.588346
13.513682
13.438874
13.363975
13.289041
13.214127
13.139286
13.064573
12.990044
12.915753
12.841755
12.768104
12.694854
12.622062
12.549781
12.478066
12.406971
12.336553
12.266864
12.197960
12.129895
12.062725
11.996504
11.931286
11.867126
11.804079
11.742200
11.681543
11.622163
11.564115
11.507453
11.452232
11.398507
11.346332
11.295763
11.246853
11.199657
11.154231
11.110628
11.068904
11.029114
10.991311
10.955550
10.921887
10.890376
10.861072
10.834029
10.809301
10.786945
10.767014
10.749563
10.734646
10.722320
10.712637
10.705653
10.701422
10.700000

Input Sample Size:
5
Input 5x:
1       1
2       2
3       3
4       4
5       5
Input 5y:
1       5.7
2       6.9
3       10.2
4       15.9
5       10.7
NATURAL:0 CLAMPED:1 NOTAKNOT:2
2
a:              b:              c:              d:
0.616667        -0.800000       1.383333        5.700000
0.616667        1.050000        1.633333        6.900000
-2.783333       2.900000        5.583333        10.200000
-2.783333       -5.450000       3.033333        15.900000

5.700000
5.713754
5.727352
5.740797
5.754093
5.767244
5.780253
5.793125
5.805862
5.818470
5.830950
5.843307
5.855546
5.867668
5.879679
5.891581
5.903379
5.915076
5.926676
5.938183
5.949600
5.960931
5.972180
5.983350
5.994445
6.005469
6.016425
6.027318
6.038150
6.048927
6.059650
6.070324
6.080954
6.091541
6.102091
6.112606
6.123091
6.133549
6.143984
6.154400
6.164800
6.175188
6.185568
6.195943
6.206317
6.216694
6.227077
6.237471
6.247878
6.258304
6.268750
6.279221
6.289722
6.300254
6.310823
6.321431
6.332083
6.342782
6.353532
6.364337
6.375200
6.386125
6.397116
6.408176
6.419309
6.430519
6.441809
6.453184
6.464646
6.476201
6.487850
6.499598
6.511450
6.523407
6.535475
6.547656
6.559955
6.572375
6.584920
6.597594
6.610400
6.623342
6.636424
6.649649
6.663021
6.676544
6.690221
6.704057
6.718054
6.732218
6.746550
6.761055
6.775738
6.790600
6.805647
6.820881
6.836307
6.851928
6.867748
6.883771
6.900000
6.916439
6.933092
6.949962
6.967053
6.984369
7.001913
7.019690
7.037702
7.055955
7.074450
7.093192
7.112186
7.131433
7.150939
7.170706
7.190739
7.211041
7.231616
7.252468
7.273600
7.295016
7.316720
7.338715
7.361005
7.383594
7.406485
7.429683
7.453190
7.477012
7.501150
7.525609
7.550394
7.575506
7.600951
7.626731
7.652851
7.679314
7.706124
7.733285
7.760800
7.788673
7.816908
7.845508
7.874477
7.903819
7.933537
7.963636
7.994118
8.024989
8.056250
8.087906
8.119962
8.152419
8.185283
8.218556
8.252243
8.286347
8.320872
8.355822
8.391200
8.427010
8.463256
8.499941
8.537069
8.574644
8.612669
8.651149
8.690086
8.729486
8.769350
8.809683
8.850490
8.891772
8.933535
8.975781
9.018515
9.061740
9.105460
9.149679
9.194400
9.239627
9.285364
9.331614
9.378381
9.425669
9.473481
9.521822
9.570694
9.620103
9.670050
9.720540
9.771578
9.823165
9.875307
9.928006
9.981267
10.035093
10.089488
10.144456
10.200000
10.256121
10.312804
10.370035
10.427795
10.486069
10.544839
10.604089
10.663802
10.723961
10.784550
10.845552
10.906950
10.968728
11.030869
11.093356
11.156173
11.219302
11.282728
11.346432
11.410400
11.474614
11.539056
11.603712
11.668563
11.733594
11.798787
11.864126
11.929594
11.995174
12.060850
12.126605
12.192422
12.258285
12.324177
12.390081
12.455981
12.521859
12.587700
12.653485
12.719200
12.784827
12.850348
12.915749
12.981011
13.046119
13.111055
13.175803
13.240346
13.304667
13.368750
13.432578
13.496134
13.559402
13.622365
13.685006
13.747309
13.809256
13.870832
13.932018
13.992800
14.053160
14.113080
14.172546
14.231539
14.290044
14.348043
14.405520
14.462458
14.518840
14.574650
14.629871
14.684486
14.738479
14.791833
14.844531
14.896557
14.947893
14.998524
15.048431
15.097600
15.146013
15.193652
15.240503
15.286547
15.331769
15.376151
15.419677
15.462330
15.504093
15.544950
15.584884
15.623878
15.661916
15.698981
15.735056
15.770125
15.804170
15.837176
15.869124
15.900000
15.929786
15.958464
15.986020
16.012435
16.037694
16.061779
16.084674
16.106362
16.126826
16.146050
16.164017
16.180710
16.196113
16.210209
16.222981
16.234413
16.244487
16.253188
16.260497
16.266400
16.270879
16.273916
16.275497
16.275603
16.274219
16.271327
16.266911
16.260954
16.253439
16.244350
16.233670
16.221382
16.207470
16.191917
16.174706
16.155821
16.135244
16.112960
16.088950
16.063200
16.035692
16.006408
15.975334
15.942451
15.907744
15.871195
15.832788
15.792506
15.750332
15.706250
15.660243
15.612294
15.562387
15.510505
15.456631
15.400749
15.342841
15.282892
15.220883
15.156800
15.090625
15.022340
14.951931
14.879379
14.804669
14.727783
14.648705
14.567418
14.483905
14.398150
14.310136
14.219846
14.127264
14.032373
13.935156
13.835597
13.733678
13.629384
13.522696
13.413600
13.302078
13.188112
13.071688
12.952787
12.831394
12.707491
12.581062
12.452090
12.320558
12.186450
12.049749
11.910438
11.768501
11.623921
11.476681
11.326765
11.174155
11.018836
10.860789
10.700000

